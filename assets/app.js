angular.module("app",["ngRoute"]),angular.module("app").controller("LoginController",["$scope","UserService",function(e,t){e.login=function(e,o){t.login(e,o).then(function(e){console.log(e)})}}]),angular.module("app").controller("PostsController",["$scope","PostsService",function(e,t){t.fetch().success(function(t){e.posts=t}),e.addPost=function(){e.postBody&&t.create({username:"jayplabs",body:e.postBody}).success(function(t){e.posts.unshift(t),e.postBody=null})}}]),angular.module("app").service("PostsService",["$http",function(e){this.fetch=function(){return e.get("/api/posts")},this.create=function(t){return e.post("/api/posts",t)}}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"PostsController",templateUrl:"posts.html"}).when("/register",{controller:"RegisterController",templateUrl:"register.html"}).when("/login",{controller:"LoginController",templateUrl:"login.html"})}]),angular.module("app").service("UserService",["$http",function(e){var t=this;t.getUser=function(){return e.get("/api/users",{headers:{"X-Auth":this.token}})},t.login=function(o,n){return e.post("/api/sessions",{username:o,password:n}).then(function(e){return t.token=e.data,t.getUser()})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImxvZ2luLmNvbnRyb2xsZXIuanMiLCJwb3N0cy5jb250cm9sbGVyLmpzIiwicG9zdHMuc2VydmljZS5qcyIsInJvdXRlcy5qcyIsInVzZXIuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIlVzZXJTZXJ2aWNlIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwidGhlbiIsInVzZXIiLCJjb25zb2xlIiwibG9nIiwiUG9zdHNTZXJ2aWNlIiwiZmV0Y2giLCJzdWNjZXNzIiwicG9zdHMiLCJhZGRQb3N0IiwicG9zdEJvZHkiLCJjcmVhdGUiLCJib2R5IiwicG9zdCIsInVuc2hpZnQiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJnZXRVc2VyIiwiaGVhZGVycyIsIlgtQXV0aCIsInRva2VuIiwidmFsIiwiZGF0YSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsT0FDQSxZQ0RBRCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsbUJBQUEsU0FBQSxjQUFBLFNBQUFDLEVBQUFDLEdBQ0FELEVBQUFFLE1BQUEsU0FBQUMsRUFBQUMsR0FDQUgsRUFBQUMsTUFBQUMsRUFBQUMsR0FDQUMsS0FBQSxTQUFBQyxHQUNBQyxRQUFBQyxJQUFBRixTQ0xBVCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsbUJBQUEsU0FBQSxlQUFBLFNBQUFDLEVBQUFTLEdBQ0FBLEVBQUFDLFFBQUFDLFFBQUEsU0FBQUMsR0FDQVosRUFBQVksTUFBQUEsSUFHQVosRUFBQWEsUUFBQSxXQUNBYixFQUFBYyxVQUNBTCxFQUFBTSxRQUNBWixTQUFBLFdBQ0FhLEtBQUFoQixFQUFBYyxXQUNBSCxRQUFBLFNBQUFNLEdBQ0FqQixFQUFBWSxNQUFBTSxRQUFBRCxHQUNBakIsRUFBQWMsU0FBQSxXQ2JBakIsUUFBQUMsT0FBQSxPQUNBcUIsUUFBQSxnQkFBQSxRQUFBLFNBQUFDLEdBQ0FDLEtBQUFYLE1BQUEsV0FDQSxNQUFBVSxHQUFBRSxJQUFBLGVBRUFELEtBQUFOLE9BQUEsU0FBQUUsR0FDQSxNQUFBRyxHQUFBSCxLQUFBLGFBQUFBLE9DTkFwQixRQUFBQyxPQUFBLE9BQ0F5QixRQUFBLGlCQUFBLFNBQUFDLEdBQ0FBLEVBQ0FDLEtBQUEsS0FBQTFCLFdBQUEsa0JBQUEyQixZQUFBLGVBQ0FELEtBQUEsYUFBQTFCLFdBQUEscUJBQUEyQixZQUFBLGtCQUNBRCxLQUFBLFVBQUExQixXQUFBLGtCQUFBMkIsWUFBQSxrQkNMQTdCLFFBQUFDLE9BQUEsT0FDQXFCLFFBQUEsZUFBQSxRQUFBLFNBQUFDLEdBQ0EsR0FBQUQsR0FBQUUsSUFDQUYsR0FBQVEsUUFBQSxXQUNBLE1BQUFQLEdBQUFFLElBQUEsY0FDQU0sU0FBQUMsU0FBQVIsS0FBQVMsVUFJQVgsRUFBQWpCLE1BQUEsU0FBQUMsRUFBQUMsR0FDQSxNQUFBZ0IsR0FBQUgsS0FBQSxpQkFDQWQsU0FBQUEsRUFBQUMsU0FBQUEsSUFDQUMsS0FBQSxTQUFBMEIsR0FFQSxNQURBWixHQUFBVyxNQUFBQyxFQUFBQyxLQUNBYixFQUFBUSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuICAgICduZ1JvdXRlJ1xuXSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsIFVzZXJTZXJ2aWNlKSB7XG4gICAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAgIFVzZXJTZXJ2aWNlLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIpXG4gICAgICAgIH0pXG4gICAgfVxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdQb3N0c0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsIFBvc3RzU2VydmljZSkge1xuICAgIFBvc3RzU2VydmljZS5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3RzKSB7XG4gICAgICAgICRzY29wZS5wb3N0cyA9IHBvc3RzXG4gICAgfSlcblxuICAgICRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnBvc3RCb2R5KSB7XG4gICAgICAgICAgICBQb3N0c1NlcnZpY2UuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogJ2pheXBsYWJzJyxcbiAgICAgICAgICAgICAgICBib2R5OiAkc2NvcGUucG9zdEJvZHlcbiAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3QpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9zdHMudW5zaGlmdChwb3N0KVxuICAgICAgICAgICAgICAgICRzY29wZS5wb3N0Qm9keSA9IG51bGxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnUG9zdHNTZXJ2aWNlJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Bvc3RzJylcbiAgICB9XG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbihwb3N0KSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Bvc3RzJywgcG9zdClcbiAgICB9XG59KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgLndoZW4oJy8nLCB7IGNvbnRyb2xsZXI6ICdQb3N0c0NvbnRyb2xsZXInLCB0ZW1wbGF0ZVVybDogJ3Bvc3RzLmh0bWwnfSlcbiAgICAud2hlbignL3JlZ2lzdGVyJywge2NvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLCB0ZW1wbGF0ZVVybDogJ3JlZ2lzdGVyLmh0bWwnfSlcbiAgICAud2hlbignL2xvZ2luJywge2NvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLCB0ZW1wbGF0ZVVybDogJ2xvZ2luLmh0bWwnfSlcbn0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5zZXJ2aWNlKCdVc2VyU2VydmljZScsIGZ1bmN0aW9uICgkaHR0cCkge1xuICAgIHZhciBzZXJ2aWNlID0gdGhpc1xuICAgIHNlcnZpY2UuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2VycycsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ1gtQXV0aCc6IHRoaXMudG9rZW4gfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBzZXJ2aWNlLmxvZ2luID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zZXNzaW9ucycsIHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgc2VydmljZS50b2tlbiA9IHZhbC5kYXRhXG4gICAgICAgICAgICByZXR1cm4gc2VydmljZS5nZXRVc2VyKClcbiAgICAgICAgfSlcbiAgICB9XG59KSJdfQ==
